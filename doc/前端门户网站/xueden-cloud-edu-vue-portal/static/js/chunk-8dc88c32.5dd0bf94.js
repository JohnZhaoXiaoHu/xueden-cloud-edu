(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8dc88c32"],{"0f9e":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"j-login"},[s("a",{staticClass:"j-login-logo",attrs:{href:""}},[s("img",{attrs:{src:e.logSrc}})]),s("h3",[e._v("学灯网")]),s("h4",[e._v("IT在线教育平台")]),s("div",{staticClass:"j-login-box"},[s("div",{staticClass:"login-tab"},[s("router-link",{attrs:{to:"/login"}},[e._v("登录")]),s("a",{staticClass:"on",attrs:{href:""}},[e._v("注册")])],1),s("form",{staticClass:"login-form"},[s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.mobile,expression:"registerForm.mobile"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.registerForm.mobile},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"mobile",t.target.value)}}})]),e._m(0),s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.code,expression:"registerForm.code"}],staticStyle:{width:"44%"},attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.registerForm.code},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"code",t.target.value)}}}),s("el-button",{staticClass:"form-btn",staticStyle:{width:"27%","margin-top":"20px",float:"right"},attrs:{loading:e.codeLoading},on:{click:e.getCode}},[e._v("获取")])],1),s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.password,expression:"registerForm.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.registerForm.password},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"password",t.target.value)}}})]),s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.rePassword,expression:"registerForm.rePassword"}],attrs:{type:"password",placeholder:"请输入确认密码"},domProps:{value:e.registerForm.rePassword},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"rePassword",t.target.value)}}})]),s("el-button",{staticClass:"form-btn",staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading},on:{click:e.toRegister}},[e._v("注册")])],1)]),s("div",{staticClass:"login-foot"},[e._v(" 学灯网(c) 版权所有 粤ICP备14074611号-2 ")])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-item"},[s("div",{staticClass:"captcha register-captcha",staticStyle:{"margin-top":"17px"}})])}],i=s("0407"),a={name:"register",mounted:function(){},data:function(){return{logSrc:s("b7fc"),loading:!1,codeLoading:!1,captchaStatus:!1,registerForm:{mobile:"",password:"",rePassword:"",code:""},captchaForm:{geetest_challenge:"",geetest_validate:"",geetest_seccode:""}}},methods:{verifyPhone:function(){var e=/^1[0-9]{10}$/;return!(""===this.registerForm.mobile||this.registerForm.mobile.length<=10||!e.test(this.registerForm.mobile))||(this.openErrorMessage("手机号不正确"),!1)},verifyPassword:function(){var e=/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_]+$)(?![a-z0-9]+$)(?![a-z\W_]+$)(?![0-9\W_]+$)[a-zA-Z0-9\W_]{6,30}$/;return""!==this.registerForm.password&&e.test(this.registerForm.password)?this.registerForm.rePassword==this.registerForm.password:(this.openErrorMessage("密码为数字，小写字母，大写字母，特殊符号 至少包含三种，长度为 6 - 30位，密码不能包含 用户名，公司名称(lidian), 公司域名(rekoon) （判断的时候不区分大小写)"),!1)},openSuccessMessage:function(e){this.$notify({title:"成功",message:e,type:"success"})},openErrorMessage:function(e){this.$notify.error({title:"错误",message:e})},toRegister:function(){var e=this;this.verifyPhone()&&this.verifyPassword()&&(console.log("开始注册"),this.loading=!0,Object(i["a"])("edu/front/register/registerMember",this.registerForm).then((function(t){var s=t.data;200===s.code?(e.openSuccessMessage(s.msg),setTimeout((function(){e.$router.push({name:"login"})}),2e3)):(e.openErrorMessage(s.message),e.loading=!1)})).catch((function(t){e.loading=!1,e.openErrorMessage(t.msg)})))},getCode:function(){this.verifyPhone()&&(this._initGeeTest("register-captcha"),this.codeLoading=!0)},_initGeeTest:function(e){var t=this;this.captchaStatus=!1,document.getElementsByClassName(e)[0].innerHTML="",Object(i["a"])("captcha?mobile="+this.registerForm.mobile).then((function(s){var r=s.data;console.info("res",s),console.info("data",r),initGeetest({gt:r.gt,challenge:r.challenge,new_captcha:r.new_captcha,offline:!r.success,product:"popup",width:"100%"},(function(s){console.info("回调函数captchaObj",s),s.appendTo(".".concat(e)),s.onSuccess((function(){var e=s.getValidate();t.captchaForm=e,Object(i["a"])("edu/front/register/code/"+t.registerForm.mobile,t.captchaForm).then((function(e){t.codeLoading=!1;var s=e.data;200===s.code?t.openSuccessMessage(s.message):t.openErrorMessage("获取验证失败")})).catch((function(e){}))}))}))})).catch((function(e){}))}}},n=a,c=(s("e71a"),s("2877")),l=Object(c["a"])(n,r,o,!1,null,"79046200",null);t["default"]=l.exports},"5e3d":function(e,t,s){},b7fc:function(e,t,s){e.exports=s.p+"static/img/logo.7e4f5e27.png"},e71a:function(e,t,s){"use strict";var r=s("5e3d"),o=s.n(r);o.a}}]);