(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68cd69fe","chunk-372e6861"],{"14c7":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o={key:1},a={key:1},c={key:0},i=Object(r["createTextVNode"])("添加"),l=Object(r["createTextVNode"])("删除"),u={key:1},d=Object(r["createTextVNode"])("保存"),b=Object(r["createTextVNode"])("取消"),f={key:1},s=Object(r["createTextVNode"])("编辑"),p=Object(r["createTextVNode"])("删除"),O=Object(r["createVNode"])("i",{class:"el-icon-plus"},null,-1),j=Object(r["createTextVNode"])(" 新增环境参数 ");function m(e,t,n,m,v,h){var k=Object(r["resolveComponent"])("el-input"),C=Object(r["resolveComponent"])("el-table-column"),w=Object(r["resolveComponent"])("el-button"),V=Object(r["resolveComponent"])("el-popconfirm"),N=Object(r["resolveComponent"])("el-table"),x=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["withDirectives"])(Object(r["createVNode"])(N,{"row-key":"id","header-row-class-name":"custom-table-header",data:e.TableData},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(C,{label:"参数名称",prop:"name"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.edit?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:0,modelValue:t.name,"onUpdate:modelValue":function(e){return t.name=e},placeholder:"参数名称"},null,8,["modelValue","onUpdate:modelValue"])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",o,Object(r["toDisplayString"])(t.name),1))]})),_:1}),Object(r["createVNode"])(C,{label:"参数值",prop:"value"},{default:Object(r["withCtx"])((function(e){var t=e.row;return[t.edit?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:0,modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},placeholder:"参数值"},null,8,["modelValue","onUpdate:modelValue"])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",a,Object(r["toDisplayString"])(t.value),1))]})),_:1}),Object(r["createVNode"])(C,{label:"操作",prop:"action",width:"200"},{default:Object(r["withCtx"])((function(t){var n=t.row;return[n.edit?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[n.isNew?(Object(r["openBlock"])(),Object(r["createBlock"])("span",c,[Object(r["createVNode"])(w,{type:"text",onClick:function(t){return e.saveRow(n)}},{default:Object(r["withCtx"])((function(){return[i]})),_:2},1032,["onClick"]),Object(r["createVNode"])(V,{title:"是否要删除此行？",onConfirm:function(t){return e.remove(n.key)}},{reference:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{type:"text"},{default:Object(r["withCtx"])((function(){return[l]})),_:1})]})),_:2},1032,["onConfirm"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",u,[Object(r["createVNode"])(w,{type:"text",onClick:function(t){return e.saveRow(n)}},{default:Object(r["withCtx"])((function(){return[d]})),_:2},1032,["onClick"]),Object(r["createVNode"])(w,{type:"text",onClick:function(t){return e.cancel(n.key)}},{default:Object(r["withCtx"])((function(){return[b]})),_:2},1032,["onClick"])]))],64)):(Object(r["openBlock"])(),Object(r["createBlock"])("span",f,[Object(r["createVNode"])(w,{type:"text",onClick:function(t){return e.toggle(n.id)}},{default:Object(r["withCtx"])((function(){return[s]})),_:2},1032,["onClick"]),Object(r["createVNode"])(V,{title:"是否要删除此行？",onConfirm:function(t){return e.remove(n.id)}},{reference:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{type:"text"},{default:Object(r["withCtx"])((function(){return[p]})),_:1})]})),_:2},1032,["onConfirm"])]))]})),_:1})]})),_:1},8,["data"]),[[x,e.TableLoading]]),Object(r["createVNode"])(w,{style:{width:"100%","margin-top":"16px","border-style":"dashed"},onClick:e.newTableData},{default:Object(r["withCtx"])((function(){return[O,j]})),_:1},8,["onClick"])],64)}n("4de4"),n("7db0"),n("4160"),n("d81d"),n("a9e3"),n("b64b"),n("159b");var v=n("5530"),h=n("3fd4"),k=Object(r["defineComponent"])({name:"TableForm",props:{modelValue:{type:Array,required:!0},courseId:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(r["toRefs"])(e),a=o.modelValue,c=o.courseId;console.info("传过来modelValue:",a.value.length);var i=Object(r["ref"])(e.modelValue),l=Object(r["ref"])(!1),u=Object(r["ref"])(a.value.length),d=function(){var e=i.value.map((function(e){return Object(v["a"])({},e)}));e.push({id:u.value,value:"",name:"",edit:!0,isNew:!0,courseId:c.value}),u.value++,i.value=e},b=function(e){l.value=!0;var t=e.id,r=e.name,o=e.value;if(!r||!o)return l.value=!1,void h["a"].error("请填写完整环境信息。");var a=i.value.find((function(e){return e.id===t}));a&&(a.edit=!1,a.isNew=!1,a._originalData=void 0),l.value=!1;var c=i.value.map((function(e){return Object(v["a"])({},e)}));n("update:modelValue",c)},f=function(e){var t=i.value.filter((function(t){return t.id!==e}));i.value=t,n("update:modelValue",t)},s=function(e){var t=i.value.find((function(t){return t.id===e}));t&&(Object.keys(t).forEach((function(e){t[e]=t._originalData[e]})),t._originalData=void 0)},p=function(e){var t=i.value.find((function(t){return t.id===e}));t._originalData=Object(v["a"])({},t),t.edit=!t.edit};return Object(r["watch"])(a,(function(){var e=a.value.map((function(e){return Object(v["a"])({},e)}));i.value=e})),{TableData:i,TableLoading:l,newTableData:d,saveRow:b,remove:f,cancel:s,toggle:p}}});k.render=m;t["default"]=k},"3f47":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["createTextVNode"])("取消"),a=Object(r["createTextVNode"])("保存并下一步"),c={class:"indexlayout-main-conent"},i=Object(r["createTextVNode"])(" 开发环境: "),l=Object(r["createTextVNode"])(" 课程详情: ");function u(e,t,n,u,d,b){var f=Object(r["resolveComponent"])("el-button"),s=Object(r["resolveComponent"])("el-step"),p=Object(r["resolveComponent"])("el-steps"),O=Object(r["resolveComponent"])("TableForm"),j=Object(r["resolveComponent"])("el-card"),m=Object(r["resolveComponent"])("CKEditor"),v=Object(r["resolveComponent"])("el-form"),h=Object(r["resolveComponent"])("el-dialog");return Object(r["openBlock"])(),Object(r["createBlock"])(h,{"close-on-click-modal":!1,"close-on-press-escape":!1,title:"课程详情",width:"1024px","model-value":e.visible,onClose:e.onCancel},{footer:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{key:"back",onClick:t[1]||(t[1]=function(){return e.onCancel()})},{default:Object(r["withCtx"])((function(){return[o]})),_:1}),Object(r["createVNode"])(f,{key:"submit",type:"primary",loading:e.onSubmitLoading,onClick:e.onFinish},{default:Object(r["withCtx"])((function(){return[a]})),_:1},8,["loading","onClick"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{active:2,"process-status":"wait","align-center":"",style:{"margin-bottom":"40px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{title:"填写课程基本信息"}),Object(r["createVNode"])(s,{title:"完善课程详情"}),Object(r["createVNode"])(s,{title:"创建课程大纲"}),Object(r["createVNode"])(s,{title:"提交审核"})]})),_:1}),Object(r["createVNode"])(v,{model:e.modelRef,rules:e.rulesRef,ref:"formRef","label-width":"80px"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",c,[Object(r["createVNode"])(j,{shadow:"never",class:"cus-card"},{header:Object(r["withCtx"])((function(){return[i]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{courseId:e.modelRef.id,modelValue:e.modelRef.environmenParams,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.modelRef.environmenParams=t})},null,8,["courseId","modelValue"])]})),_:1}),Object(r["createVNode"])(j,{shadow:"never",class:"cus-card"},{header:Object(r["withCtx"])((function(){return[l]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{modelValue:e.modelRef.remarks,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.modelRef.remarks=t})},null,8,["modelValue"])]})),_:1})])]})),_:1},8,["model","rules"])]})),_:1},8,["model-value","onClose"])}n("d3b7"),n("ddb0"),n("96cf");var d=n("1da1"),b=n("47e2"),f=n("3fd4"),s=n("3280"),p=n("14c7"),O=Object(r["defineComponent"])({name:"RemarksForm",props:{visible:{type:Boolean,required:!0},values:{type:Object,required:!0},onCancel:{type:Function,required:!0},onSubmitLoading:{type:Boolean,required:!0},onSubmit:{type:Function,required:!0}},components:{CKEditor:s["a"],TableForm:p["default"]},setup:function(e){var t=Object(b["b"])(),n=t.t,o=Object(r["reactive"])({id:e.values.id||0,remarks:e.values.remarks||"",environmenParams:e.values.environmenParams||[]}),a=Object(r["reactive"])({id:[],name:[{required:!0,validator:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==n&&n){e.next=4;break}throw new Error("请输入名称");case 4:if(!(n.length>15)){e.next=6;break}throw new Error("长度不能大于15个字");case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}],remarks:[]}),c=Object(r["ref"])(),i=function(){var e;null===(e=c.value)||void 0===e||e.resetFields()},l=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(r=c.value)||void 0===r?void 0:r.validate();case 3:a=t.sent,!0===a&&e.onSubmit(o,i),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),f["a"].warning(n("app.global.form.validatefields.catch"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return{modelRef:o,rulesRef:a,formRef:c,resetFields:i,onFinish:l}}});O.render=u;t["default"]=O},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),o=n("5899"),a="["+o+"]",c=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").find,a=n("44d2"),c=n("ae40"),i="find",l=!0,u=c(i);i in[]&&Array(1)[i]((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),a=n("94ca"),c=n("6eeb"),i=n("5135"),l=n("c6b6"),u=n("7156"),d=n("c04e"),b=n("d039"),f=n("7c73"),s=n("241c").f,p=n("06cf").f,O=n("9bf2").f,j=n("58a8").trim,m="Number",v=o[m],h=v.prototype,k=l(f(h))==m,C=function(e){var t,n,r,o,a,c,i,l,u=d(e,!1);if("string"==typeof u&&u.length>2)if(u=j(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=u.slice(2),c=a.length,i=0;i<c;i++)if(l=a.charCodeAt(i),l<48||l>o)return NaN;return parseInt(a,r)}return+u};if(a(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,V=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof V&&(k?b((function(){h.valueOf.call(n)})):l(n)!=m)?u(new v(C(t)),n,V):C(t)},N=r?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;N.length>x;x++)i(v,w=N[x])&&!i(V,w)&&O(V,w,p(v,w));V.prototype=h,h.constructor=V,c(o,m,V)}}}]);