(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ab4da0b"],{9127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var r,n,a,o,i=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(n=8*o,r=t[o],a=0;a<8;a+=2)s[n+1+a]=i.charAt(15&r),r>>>=4,s[n+0+a]=i.charAt(15&r),r>>>=4;return s.join("")},e._md5cycle=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3];r+=(n&a|~n&o)+t[0]-680876936|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&a)+t[1]-389564586|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&n)+t[2]+606105819|0,a=(a<<17|a>>>15)+o|0,n+=(a&o|~a&r)+t[3]-1044525330|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&o)+t[4]-176418897|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&a)+t[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&n)+t[6]-1473231341|0,a=(a<<17|a>>>15)+o|0,n+=(a&o|~a&r)+t[7]-45705983|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&o)+t[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&a)+t[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&n)+t[10]-42063|0,a=(a<<17|a>>>15)+o|0,n+=(a&o|~a&r)+t[11]-1990404162|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&o)+t[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&a)+t[13]-40341101|0,o=(o<<12|o>>>20)+r|0,a+=(o&r|~o&n)+t[14]-1502002290|0,a=(a<<17|a>>>15)+o|0,n+=(a&o|~a&r)+t[15]+1236535329|0,n=(n<<22|n>>>10)+a|0,r+=(n&o|a&~o)+t[1]-165796510|0,r=(r<<5|r>>>27)+n|0,o+=(r&a|n&~a)+t[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,a+=(o&n|r&~n)+t[11]+643717713|0,a=(a<<14|a>>>18)+o|0,n+=(a&r|o&~r)+t[0]-373897302|0,n=(n<<20|n>>>12)+a|0,r+=(n&o|a&~o)+t[5]-701558691|0,r=(r<<5|r>>>27)+n|0,o+=(r&a|n&~a)+t[10]+38016083|0,o=(o<<9|o>>>23)+r|0,a+=(o&n|r&~n)+t[15]-660478335|0,a=(a<<14|a>>>18)+o|0,n+=(a&r|o&~r)+t[4]-405537848|0,n=(n<<20|n>>>12)+a|0,r+=(n&o|a&~o)+t[9]+568446438|0,r=(r<<5|r>>>27)+n|0,o+=(r&a|n&~a)+t[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,a+=(o&n|r&~n)+t[3]-187363961|0,a=(a<<14|a>>>18)+o|0,n+=(a&r|o&~r)+t[8]+1163531501|0,n=(n<<20|n>>>12)+a|0,r+=(n&o|a&~o)+t[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,o+=(r&a|n&~a)+t[2]-51403784|0,o=(o<<9|o>>>23)+r|0,a+=(o&n|r&~n)+t[7]+1735328473|0,a=(a<<14|a>>>18)+o|0,n+=(a&r|o&~r)+t[12]-1926607734|0,n=(n<<20|n>>>12)+a|0,r+=(n^a^o)+t[5]-378558|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^a)+t[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^n)+t[11]+1839030562|0,a=(a<<16|a>>>16)+o|0,n+=(a^o^r)+t[14]-35309556|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^o)+t[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^a)+t[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^n)+t[7]-155497632|0,a=(a<<16|a>>>16)+o|0,n+=(a^o^r)+t[10]-1094730640|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^o)+t[13]+681279174|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^a)+t[0]-358537222|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^n)+t[3]-722521979|0,a=(a<<16|a>>>16)+o|0,n+=(a^o^r)+t[6]+76029189|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^o)+t[9]-640364487|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^a)+t[12]-421815835|0,o=(o<<11|o>>>21)+r|0,a+=(o^r^n)+t[15]+530742520|0,a=(a<<16|a>>>16)+o|0,n+=(a^o^r)+t[2]-995338651|0,n=(n<<23|n>>>9)+a|0,r+=(a^(n|~o))+t[0]-198630844|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[14]-1416354905|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[5]-57434055|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[10]-1051523|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[1]-2054922799|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[15]-30611744|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[6]-1560198380|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[13]+1309151649|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[4]-145523070|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[2]+718787259|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[9]-343485551|0,n=(n<<21|n>>>11)+a|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var r,n,a=this._buffer8,o=this._buffer32,i=this._bufferLength;for(n=0;n<t.length;n+=1){if(r=t.charCodeAt(n),r<128)a[i++]=r;else if(r<2048)a[i++]=192+(r>>>6),a[i++]=63&r|128;else if(r<55296||r>56319)a[i++]=224+(r>>>12),a[i++]=r>>>6&63|128,a[i++]=63&r|128;else{if(r=1024*(r-55296)+(t.charCodeAt(++n)-56320)+65536,r>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");a[i++]=240+(r>>>18),a[i++]=r>>>12&63|128,a[i++]=r>>>6&63|128,a[i++]=63&r|128}i>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),i-=64,o[0]=o[16])}return this._bufferLength=i,this},e.prototype.appendAsciiStr=function(t){for(var r,n=this._buffer8,a=this._buffer32,o=this._bufferLength,i=0;;){r=Math.min(t.length-i,64-o);while(r--)n[o++]=t.charCodeAt(i++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,a),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var r,n=this._buffer8,a=this._buffer32,o=this._bufferLength,i=0;;){r=Math.min(t.length-i,64-o);while(r--)n[o++]=t[i++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,a),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this,t=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[t[0],t[1],t[2],t[3]]}},e.prototype.setState=function(e){var t,r=e.buffer,n=e.state,a=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],t=0;t<r.length;t+=1)this._buffer8[t]=r.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var r,n=this._bufferLength,a=this._buffer8,o=this._buffer32,i=1+(n>>2);if(this._dataLength+=n,a[n]=128,a[n+1]=a[n+2]=a[n+3]=0,o.set(e.buffer32Identity.subarray(i),i),n>55&&(e._md5cycle(this._state,o),o.set(e.buffer32Identity)),r=8*this._dataLength,r<=4294967295)o[14]=r;else{var s=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var u=parseInt(s[2],16),c=parseInt(s[1],16)||0;o[14]=u,o[15]=c}return e._md5cycle(this._state,o),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}();t.Md5=n,"5d41402abc4b2a76b9719d911017c592"!==n.hashStr("hello")&&console.error("Md5 self test failed.")},c18e:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["createTextVNode"])("关闭"),o=Object(n["createVNode"])("i",{class:"el-icon-upload"},null,-1),i=Object(n["createVNode"])("div",{class:"el-upload__text"},[Object(n["createTextVNode"])("将文件拖到此处，或"),Object(n["createVNode"])("em",null,"点击上传")],-1),s=Object(n["createVNode"])("div",{class:"el-upload__tip"},"只能上传mp4文件，且不超过500mb",-1);function u(e,t,r,u,c,l){var f=Object(n["resolveComponent"])("el-button"),d=Object(n["resolveComponent"])("el-upload"),h=Object(n["resolveComponent"])("el-progress"),p=Object(n["resolveComponent"])("el-form"),b=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(b,{"close-on-click-modal":!1,"close-on-press-escape":!1,title:e.modelRef.title,width:"400px","model-value":e.visible,onClose:e.onCancel},{footer:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{key:"back",type:"primary",onClick:t[1]||(t[1]=function(){return e.onCancel()})},{default:Object(n["withCtx"])((function(){return[a]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{model:e.modelRef,rules:e.rulesRef,ref:"formRef","label-width":"80px"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{ref:"videoUpload",headers:{Authorization:e.headerToken},action:e.uploadApi,data:e.modelRef,"before-upload":e.handleProgress,"on-progress":e.fileOnProgress,limit:1,class:"upload-demo",drag:"","show-file-list":!1,"on-success":e.FileOnSuccess,multiple:""},{default:Object(n["withCtx"])((function(){return[o,i,s]})),_:1},8,["headers","action","data","before-upload","on-progress","on-success"]),Object(n["withDirectives"])(Object(n["createVNode"])(h,{"text-inside":!0,"stroke-width":24,percentage:e.uploadPercent,status:"success"},null,8,["percentage"]),[[n["vShow"],e.showProgress]])]})),_:1},8,["model","rules"])]})),_:1},8,["title","model-value","onClose"])}r("b0c0"),r("d3b7"),r("25f0"),r("ddb0"),r("96cf");var c=r("1da1"),l=r("47e2"),f=r("3fd4"),d=r("9127"),h=Object(n["defineComponent"])({name:"UpdateVideoForm",props:{headerToken:{type:String,required:!0},visible:{type:Boolean,required:!0},values:{type:Object,required:!0},onCancel:{type:Function,required:!0},onSubmitLoading:{type:Boolean,required:!0},onSubmit:{type:Function,required:!0},getPercent:{type:Function,required:!0}},components:{},setup:function(e){var t=Object(l["b"])(),r=t.t,a=Object(n["ref"])(!1),o=Object(n["ref"])(0),i=null,s=Object(n["reactive"])({id:e.values.id||0,title:e.values.title||"",sort:e.values.sort||0,courseId:e.values.courseId||0,chapterId:e.values.chapterId||0,isFree:e.values.isFree||0,fileKey:e.values.fileKey||""}),u=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPercent();case 2:r=t.sent,r>=100?(clearInterval(i),o.value=100):o.value=r;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){i=setInterval(u,1e3)},p=Object(n["ref"])(0),b=function(e){var t=e.name+e.size+e.type+e.lastModifiedDate,r=d["Md5"].hashStr(t);console.info(r),s.fileKey=r.toString(),0===p.value&&(h(),a.value=!0,p.value=1)},v=function(e,t,r){},_=function(e,t,r){console.info("文件上传成功后：",e),a.value=!1,f["a"].success(e.message),clearInterval(i)},g=Object(n["reactive"])({id:[],name:[{required:!0,validator:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r&&r){e.next=4;break}throw new Error("请输入名称");case 4:if(!(r.length>15)){e.next=6;break}throw new Error("长度不能大于15个字");case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}],desc:[],href:[{required:!0,validator:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r&&r){e.next=4;break}throw new Error("请输入网址");case 4:if(/^(https?:)/.test(r)){e.next=6;break}throw new Error("请输入正确的网址");case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}],type:[{required:!0,message:"请选择"}]}),m=Object(n["ref"])(),w=function(){var e;null===(e=m.value)||void 0===e||e.resetFields()},y=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===(n=m.value)||void 0===n?void 0:n.validate();case 3:a=t.sent,!0===a&&e.onSubmit(s,w),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),f["a"].warning(r("app.global.form.validatefields.catch"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return{modelRef:s,rulesRef:g,formRef:m,resetFields:w,onFinish:y,uploadApi:"http://gateway:7000/edu/vod/uploadById",handleProgress:b,showProgress:a,FileOnSuccess:_,fileOnProgress:v,uploadPercent:o}}});h.render=u;t["default"]=h}}]);